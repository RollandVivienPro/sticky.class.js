"use strict";function _instanceof(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}function _classCallCheck(e,t){if(!_instanceof(e,t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,s){return t&&_defineProperties(e.prototype,t),s&&_defineProperties(e,s),e}var Sticky=function(){function e(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"is-fixed";_classCallCheck(this,e),e.count=e.count?e.count+1:1,this.id=e.count,this.element=t,this.top=t.dataset.top,this.cssClass=s,this.addEvents(),this.position=d.offset(this.element),this.height=this.element.offsetHeight,this.shadow=!1,this.onScroll()}return _createClass(e,[{key:"addEvents",value:function(){window.addEventListener("scroll",this.onScroll.bind(this),50,!1,!0)}},{key:"onScroll",value:function(){this.aboveScroll()?this.setFixed():this.setStatic()}},{key:"aboveScroll",value:function(){return-this.top<window.scrollY-this.position.top}},{key:"setFixed",value:function(){this.element.classList.add(this.cssClass),this.element.style.top=this.top+"px",this.createShadowbox()}},{key:"setStatic",value:function(){this.element.classList.remove(this.cssClass),this.element.style.top="auto",this.removeShadowbox()}},{key:"createShadowbox",value:function(){if(!1===this.shadow){this.shadow=!0;var e=document.createElement("div");e.setAttribute("id","sticky-shadowbox-"+this.id),e.style.width="100%",e.style.height=this.height+"px",this.element.parentNode.insertBefore(e,this.element)}}},{key:"removeShadowbox",value:function(){!0===this.shadow&&(this.shadow=!1,document.querySelector("#sticky-shadowbox-"+this.id).remove())}}]),e}();